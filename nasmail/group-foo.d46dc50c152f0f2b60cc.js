(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(e,t,n){"use strict";n.r(t);var s=n(8),a=n(7);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);var r=n(5),o=Object(r.a)(a.default,s.a,s.b,!1,null,null,null);o.options.__file="src/components/component1.vue",t.default=o.exports},function(e,t,n){"use strict";function s(e,t,n,s,a,i,r,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),s&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):a&&(l=o?function(){a.call(this,this.$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",function(){return s})},function(e,t,n){"use strict";var s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"component1",data:function(){return{user:{email:"",phone:"",min:1e14,enable:!0,other:"",address:"",type:"1",nickname:""},hasHistory:"",value:!0,caseValue:"1",rangeValue:1e15,userAddress:"",options:[{label:"普通版 自动邮件通知 限时免费",value:"1"},{label:"高级版 短信、微信通知（即将上线）",value:"2"}]}},mounted:function(){this.checkEnv()},methods:{checkEnv:function(){"undefined"!=typeof webExtensionWallet?this.getUserAddress():this.$messagebox.confirm("检测到您没有安装星云链浏览器插件",{confirmButtonText:"知道了",cancelButtonText:"去下载",title:"提示"}).then(function(e){}).catch(function(e){window.open("https://github.com/ChengOrangeJu/WebExtensionWallet")})},getHistory:function(){var e=this;this.$toast("查询历史中");var t={function:"get",args:"[]"};neb.api.call(this.user.address,dappAddress,"0","0","1000000","2000000",t).then(function(t){var n=t.result.replace(/\"/g,""),s=JSON.parse(decodeURI(n));s&&s.email&&(e.user=s,e.hasHistory=!0)}).catch(function(e){console.log("error:"+e.message)})},checkForm:function(){},submit:function(){var e=this,t="set";if(this.hasHistory&&(t="update"),this.user.email=this.user.email.trim(),this.user.email.match(/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/)){console.log(this.user);var n=encodeURI(JSON.stringify(this.user));console.log(i);var i=0,r=t,o=[n];"2"!=this.user.type||this.hasHistory||(i=.1),s=nebPay.call(dappAddress,i,r,JSON.stringify(o),{listener:function(t){if("string"==typeof t&&t.match(/error/i))return void e.$toast("操作已取消");e.$indicator.open("已提交，等待确认"),a=setInterval(function(){e.funcIntervalQuery()},15e3)}}),e.$toast("请您在浏览器弹框中确认")}else this.$toast("邮箱输入有误，请您检查")},funcIntervalQuery:function(){var e=this;nebPay.queryPayInfo(s).then(function(t){console.log("tx result: "+t),0===JSON.parse(t).code&&(e.$indicator.close(),e.$toast({message:"提交成功，祝您使用愉快"}),clearInterval(a))}).catch(function(e){console.log(e)})},getUserAddress:function(){var e=this;window.postMessage({target:"contentscript",method:"getAccount"},"*"),window.addEventListener("message",function(t){t.data&&t.data.data&&t.data.data.account&&(console.log(t.data.data.account),e.user.address=t.data.data.account,e.getHistory())})}}};t.default=i},function(e,t,n){"use strict";n.r(t);var s=n(6),a=n.n(s);for(var i in s)"default"!==i&&function(e){n.d(t,e,function(){return s[e]})}(i);t.default=a.a},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return a});var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"outer"},[n("div",{staticClass:"mobile-wrap"},[n("div",{staticClass:"mobile-title"},[e._v("钱包助手 - 收款早知道!")]),e._v(" "),n("div",{staticClass:"inputfild"},[n("div",{staticClass:"range-container"},[n("mt-field",{attrs:{title:"钱包地址",label:"钱包地址",disabled:"",placeholder:"安装浏览器插件后自动读取"},model:{value:e.user.address,callback:function(t){e.$set(e.user,"address",t)},expression:"user.address"}}),e._v(" "),n("mt-field",{attrs:{title:"邮箱",label:"邮箱",placeholder:"输入邮箱可获得及时通知",type:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),e._v(" "),n("mt-field",{attrs:{title:"昵称",label:"昵称",placeholder:"钱包地址前可增加昵称"},model:{value:e.user.nickname,callback:function(t){e.$set(e.user,"nickname",t)},expression:"user.nickname"}}),e._v(" "),n("mt-field",{attrs:{label:"手机号",disabled:"",placeholder:"短信通知内测中",type:"tel"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}}),e._v(" "),n("mt-cell",{attrs:{title:"超过才通知",label:(e.user.min/1e18).toFixed(5)+" NAS"}},[n("mt-range",{attrs:{min:1e13,max:1e19},model:{value:e.user.min,callback:function(t){e.$set(e.user,"min",t)},expression:"user.min"}})],1)],1),e._v(" "),n("p",[e._v("套餐")]),e._v(" "),n("div",[n("mt-radio",{attrs:{title:"选择套餐支持作者:  "+("1"==e.user.type?0:.1)+" NAS",options:e.options},model:{value:e.user.type,callback:function(t){e.$set(e.user,"type",t)},expression:"user.type"}}),e._v(" "),n("mt-cell",{attrs:{title:"开启通知"}},[n("mt-switch",{model:{value:e.user.enable,callback:function(t){e.$set(e.user,"enable",t)},expression:"user.enable"}})],1)],1)]),e._v(" "),n("mt-button",{staticClass:"button-submit",attrs:{type:"primary",size:"large"},on:{click:e.submit}},[e._v(e._s(e.hasHistory?"更新信息":"提交"))])],1)])},a=[];s._withStripped=!0}]]);